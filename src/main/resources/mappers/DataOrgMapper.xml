<?xml version="1.0" encoding="UTF-8"?>

<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="visang.dataplatform.dataportal.mapper.DataOrgMapper">

    <!-- 데이터 조직도 : 원하는 서비스에 해당하는 시스템 정보 보여주기 -->
    <select id="getSystemInfo" resultType="DataOrgSystemInfoDto">
        select distinct si.service_name, ssi.service_web_url, ssi.service_os, ssi.service_was, ssi.service_db
        from tb_company_info ci, tb_service_info si, tb_service_system_info ssi
        where ci.company_id = si.company_id and si.service_id = ssi.service_id
          and si.service_name = #{name};
    </select>

</mapper>